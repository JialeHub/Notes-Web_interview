# Vue和React

## Vue和React的理解、区别

**相似之处：**

- 都将注意力集中保持在**核心库**，而将其他功能如路由和全局状态管理交给相关的库；
- 都有自己的**构建工具**，能让你得到一个根据最佳实践设置的项目模板；
- 都使用了Virtual DOM（**虚拟DOM**）提高重绘性能；
- 都有**props**的概念，允许组件间的数据传递；
- 都鼓励**组件化**应用，将应用分拆成一个个功能明确的模块，提高复用性。

**不同之处 ：**

1. **数据流**：Vue默认支持数据**双向绑定**，而React一直提倡**单向数据流**

2. **虚拟DOM**：Vue2.x开始引入"Virtual DOM"，消除了和React在这方面的差异，但是在具体的细节还是有各自的特点。

   - Vue宣称可以**更快地计算出Virtual DOM的差异**，这是由于它在渲染过程中，会跟踪每一个组件的依赖关系，**不需要重新渲染整个组件树**。

   - 对于React而言，每当应用的状态被改变时，**全部子组件都会重新渲染**。当然，这可以通过PureComponent/shouldComponentUpdate这个生命周期方法来进行**手动控制**，但Vue将此视为默认的优化。

3. **组件化**：React与Vue最大的不同是**模板**的编写。

   - Vue鼓励写**近似常规HTML的模板**。写起来很接近标准 HTML元素，只是多了一些属性。

   - React推荐你所有的模板通用JavaScript的语法扩展——**JSX**书写。

   具体来讲：**React中render函数**是支持**闭包**特性的，所以import的组件在render中可以直接调用。但是在Vue中，由于模板中使用的数据都必须**挂在 this 上进行一次中转**，所以 import 一个组件完了之后，还需要在 **components** 中再**声明**下。

4. **监听数据变化的实现原理不同**

   - Vue 通过 **getter/setter** 以及一些函数的劫持，能精确知道数据变化，不需要特别的优化就能达到很好的性能

   - React 默认是通过**比较引用**的方式进行的，如果不**优化**（PureComponent/shouldComponentUpdate）可能导致大量不必要的vDOM的重新渲染。这是因为 Vue 使用的是可变数据，而React更强调数据的不可变。

5. **高阶组件**

   react可以通过高阶组件（**HOC**）来扩展，而Vue需要通过**mixins**来扩展。高阶组件就是高阶函数，而React的组件本身就是纯粹的函数，所以高阶函数对React来说易如反掌。相反Vue.js使用HTML模板创建视图组件，这时模板无法有效的编译，因此Vue不能采用HOC来实现。

6. **构建工具**：两者都有自己的构建工具：

   - React ==> Create React APP

   - Vue ==> vue-cli

7. **跨平台**

   - React ==> React Native

   - Vue ==> Weex



## template和jsx的有什么分别？

对于 runtime 来说，只需要保证组件存在 render 函数即可，而有了预编译之后，只需要保证构建过程中生成 render 函数就可以。在 webpack 中，使用`vue-loader`编译.vue文件，内部依赖的**vue-template-compiler**模块，在 webpack 构建过程中，将template预编译成 render 函数。与 react 类似，在添加了jsx的语法糖解析器**babel-plugin-transform-vue-jsx**之后，就可以直接手写render函数。

所以，template和jsx的都是render的一种表现形式，不同的是：**JSX**相对于template而言，具有更高的**灵活性**，在复杂的组件中，更具有优势，而 template 虽然显得有些呆滞。但是 **template** 在代码结构上更符合**视图与逻辑分离**的习惯，**更简单**、**更直观**、**更好维护**。



## Vue的优点

1. **轻量级**框架：只关注视图层，是一个构建数据的视图集合，大小只有几十 `kb` ；
2. **简单易学**：国人开发，中文文档，不存在语言障碍 ，易于理解和学习；
3. **双向数据绑定**：保留了 `angular` 的特点，在数据操作方面更为简单；
4. **组件化**：保留了 `react` 的优点，实现了 `html` 的封装和重用，在构建单页面应用方面有着独特的优势；
5. **视图，数据，结构分离**：使数据的更改更为简单，不需要进行逻辑代码的修改，只需要操作数据就能完成相关操作；
6. **虚拟DOM**：`dom` 操作是非常耗费性能的，不再使用原生的 `dom` 操作节点，极大解放 `dom` 操作，但具体操作的还是 `dom` 不过是换了另一种方式；
7. 运行**速度**更快：相比较于 `react` 而言，同样是操作虚拟 `dom`，就性能而言， `vue` 存在很大的优势。



