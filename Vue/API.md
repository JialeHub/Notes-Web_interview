# API

## Computed 和 Watch 的区别

- **Compued**

  常用于数值计算有依赖的变量，如果计算的属性是由其他属性来的，通常用Computed

  **特点**：

  - 支持缓存，只有依赖项发生变化，才会重新计算。它基于data或props的响应变化。
  - 不支持异步监听
  - 如果computed属性的属性值是函数，那么默认使用get方法，函数的返回值就是属性的属性值；在computed中，属性有一个get方法和一个set方法，当数据发生变化时，会调用set方法。

- **Watch** 

  常用于监听数据变化，做出相应的开销较大的逻辑/异步任务，它可以设置中间值。当一个属性发生变化时，需要执行相应的操作，常用Watch

  **特点**：

  - 不支持缓存
  - 支持异步监听
  - 监听的函数接收两个参数，第一个参数是最新的值，第二个是变化之前的值
  - 监听数据必须是data中声明的或者父组件传递过来的props中的数据，当发生变化时，会触发其他操作，函数有两个的参数：
    - immediate：组件加载立即触发回调函数
    - deep：深度监听，发现数据内部的变化，在复杂数据类型中使用，例如数组中的对象发生变化。需要注意的是，deep无法监听到数组和对象内部的变化。



## Computed 和 Methods 的区别

可以将同一函数定义为一个 method 或者一个计算属性。对于最终的结果，两种方式是相同的

**不同点：**

- computed: 计算属性是基于它们的依赖进行缓存的，只有在它的相关依赖发生改变时才会重新求值；
- method 调用总会执行该函数。





