# 优化

## Vue编码阶段优化

- 尽量**减少data**中的数据，data中的数据都会增加getter和setter，会收集对应的watcher
- **v-if和v-for不能连用**
- 如果需要使用v-for给每项元素绑定事件时使用**事件代理**
- SPA 页面采用**keep-alive缓存**组件
- 在更多的情况下，使用**v-if替代v-show**
- **key保证唯一**
- 使用**路由懒加载**、**异步**组件
- **防抖、节流**
- 第三方模块**按需导入**
- 长列表滚动到可视区域**动态加载**
- 图片**懒加载**



## SEO优化

- **预渲染**
- 服务端渲染**SSR**



## 打包优化

- **压缩**代码
- 树摇Tree Shaking / 作用域提升Scope Hoisting
- 使用**cdn**加载第三方模块
- **多线程打包**happypack
- splitChunks**抽离公共文件**
- **sourceMap优化**



## 用户体验

- **骨架屏**
- **PWA**
- 还可以使用**缓存**(客户端缓存、服务端缓存)优化、服务端开启gzip**压缩**等。



## vue初始化页面闪动/花屏问题

使用vue开发时，在vue初始化之前，由于div是不归vue管的，所以我们写的代码在还没有解析的情况下会容易出现花屏现象，看到类似于{{message}}的字样，虽然一般情况下这个时间很短暂，但是还是有必要让解决这个问题的。

首先：在css里加上以下代码：

```css
[v-cloak] {    display: none;}
```

如果没有彻底解决问题，则在根元素加上

```vue
<div style="display: none;" :style="{display: 'block'}"/>
```

